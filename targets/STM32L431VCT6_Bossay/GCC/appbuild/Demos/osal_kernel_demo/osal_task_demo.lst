ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cchK7fL1.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"osal_task_demo.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.global	user_task1_id
  18              		.section	.bss.user_task1_id,"aw",%nobits
  19              		.align	2
  22              	user_task1_id:
  23 0000 00000000 		.space	4
  24              		.global	user_task2_id
  25              		.section	.bss.user_task2_id,"aw",%nobits
  26              		.align	2
  29              	user_task2_id:
  30 0000 00000000 		.space	4
  31              		.section	.rodata
  32              		.align	2
  33              	.LC0:
  34 0000 7461736B 		.ascii	"task1: my task id is %ld, n = %d!\015\012\000"
  34      313A206D 
  34      79207461 
  34      736B2069 
  34      64206973 
  35              		.align	2
  36              	.LC1:
  37 0024 75736572 		.ascii	"user task 1 exit!\015\000"
  37      20746173 
  37      6B203120 
  37      65786974 
  37      210D00
  38              		.section	.text.user_task1_entry,"ax",%progbits
  39              		.align	1
  40              		.arch armv7e-m
  41              		.syntax unified
  42              		.thumb
  43              		.thumb_func
  44              		.fpu fpv4-sp-d16
  46              	user_task1_entry:
  47              	.LFB3:
  48              		.file 1 "d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo/osal_task_demo.c"
   1:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** /* 使用osal接口需要包含该头文件 */
   2:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** #include <osal.h>
   3:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** 
   4:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** /* 任务优先级宏定义（shell任务的优先级为10） */
   5:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** #define USER_TASK1_PRI  12  //低优先级
   6:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** #define USER_TASK2_PRI  11  //高优先级
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cchK7fL1.s 			page 2


   7:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** 
   8:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** /* 任务ID */
   9:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** uint32_t user_task1_id = 0;
  10:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** uint32_t user_task2_id = 0;
  11:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** 
  12:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** /* 任务task1入口函数 */
  13:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** static int user_task1_entry()
  14:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** {
  49              		.loc 1 14 1
  50              		.cfi_startproc
  51              		@ args = 0, pretend = 0, frame = 8
  52              		@ frame_needed = 1, uses_anonymous_args = 0
  53 0000 80B5     		push	{r7, lr}
  54              	.LCFI0:
  55              		.cfi_def_cfa_offset 8
  56              		.cfi_offset 7, -8
  57              		.cfi_offset 14, -4
  58 0002 82B0     		sub	sp, sp, #8
  59              	.LCFI1:
  60              		.cfi_def_cfa_offset 16
  61 0004 00AF     		add	r7, sp, #0
  62              	.LCFI2:
  63              		.cfi_def_cfa_register 7
  15:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c ****     int n = 0;
  64              		.loc 1 15 9
  65 0006 0023     		movs	r3, #0
  66 0008 7B60     		str	r3, [r7, #4]
  16:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** 
  17:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c ****     /* 每隔2s在串口打印一次，打印5次后主动结束 */
  18:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c ****     for(n = 0; n < 5; n++)
  67              		.loc 1 18 11
  68 000a 0023     		movs	r3, #0
  69 000c 7B60     		str	r3, [r7, #4]
  70              		.loc 1 18 5
  71 000e 0DE0     		b	.L2
  72              	.L3:
  19:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c ****     {
  20:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c ****         printf("task1: my task id is %ld, n = %d!\r\n", user_task1_id, n);
  73              		.loc 1 20 9 discriminator 3
  74 0010 0C4B     		ldr	r3, .L5
  75 0012 1B68     		ldr	r3, [r3]
  76 0014 7A68     		ldr	r2, [r7, #4]
  77 0016 1946     		mov	r1, r3
  78 0018 0B48     		ldr	r0, .L5+4
  79 001a FFF7FEFF 		bl	printf
  21:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** 
  22:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c ****         /* 任务主动挂起2s */
  23:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c ****         osal_task_sleep(2*1000);
  80              		.loc 1 23 9 discriminator 3
  81 001e 4FF4FA60 		mov	r0, #2000
  82 0022 FFF7FEFF 		bl	osal_task_sleep
  18:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c ****     {
  83              		.loc 1 18 24 discriminator 3
  84 0026 7B68     		ldr	r3, [r7, #4]
  85 0028 0133     		adds	r3, r3, #1
  86 002a 7B60     		str	r3, [r7, #4]
  87              	.L2:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cchK7fL1.s 			page 3


  18:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c ****     {
  88              		.loc 1 18 5 discriminator 1
  89 002c 7B68     		ldr	r3, [r7, #4]
  90 002e 042B     		cmp	r3, #4
  91 0030 EEDD     		ble	.L3
  24:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c ****     }
  25:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** 
  26:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c ****     printf("user task 1 exit!\r\n");
  92              		.loc 1 26 5
  93 0032 0648     		ldr	r0, .L5+8
  94 0034 FFF7FEFF 		bl	puts
  27:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** 
  28:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c ****     /* 任务结束 */
  29:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c ****     return 0;
  95              		.loc 1 29 12
  96 0038 0023     		movs	r3, #0
  30:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** }
  97              		.loc 1 30 1
  98 003a 1846     		mov	r0, r3
  99 003c 0837     		adds	r7, r7, #8
 100              	.LCFI3:
 101              		.cfi_def_cfa_offset 8
 102 003e BD46     		mov	sp, r7
 103              	.LCFI4:
 104              		.cfi_def_cfa_register 13
 105              		@ sp needed
 106 0040 80BD     		pop	{r7, pc}
 107              	.L6:
 108 0042 00BF     		.align	2
 109              	.L5:
 110 0044 00000000 		.word	user_task1_id
 111 0048 00000000 		.word	.LC0
 112 004c 24000000 		.word	.LC1
 113              		.cfi_endproc
 114              	.LFE3:
 116              		.section	.rodata
 117 0037 00       		.align	2
 118              	.LC2:
 119 0038 7461736B 		.ascii	"task2: my task id is %ld!\015\012\000"
 119      323A206D 
 119      79207461 
 119      736B2069 
 119      64206973 
 120              		.section	.text.user_task2_entry,"ax",%progbits
 121              		.align	1
 122              		.syntax unified
 123              		.thumb
 124              		.thumb_func
 125              		.fpu fpv4-sp-d16
 127              	user_task2_entry:
 128              	.LFB4:
  31:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** /* 任务task2入口函数 */
  32:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** static int user_task2_entry()
  33:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** {
 129              		.loc 1 33 1
 130              		.cfi_startproc
 131              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cchK7fL1.s 			page 4


 132              		@ frame_needed = 1, uses_anonymous_args = 0
 133 0000 80B5     		push	{r7, lr}
 134              	.LCFI5:
 135              		.cfi_def_cfa_offset 8
 136              		.cfi_offset 7, -8
 137              		.cfi_offset 14, -4
 138 0002 00AF     		add	r7, sp, #0
 139              	.LCFI6:
 140              		.cfi_def_cfa_register 7
 141              	.L8:
  34:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c ****     /* 每隔2s在串口打印一次，不结束 */
  35:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c ****     while (1)
  36:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c ****     {
  37:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c ****         printf("task2: my task id is %ld!\r\n", user_task2_id);
 142              		.loc 1 37 9 discriminator 1
 143 0004 054B     		ldr	r3, .L9
 144 0006 1B68     		ldr	r3, [r3]
 145 0008 1946     		mov	r1, r3
 146 000a 0548     		ldr	r0, .L9+4
 147 000c FFF7FEFF 		bl	printf
  38:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** 
  39:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c ****         /* 任务主动挂起2s */
  40:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c ****         osal_task_sleep(2*1000);
 148              		.loc 1 40 9 discriminator 1
 149 0010 4FF4FA60 		mov	r0, #2000
 150 0014 FFF7FEFF 		bl	osal_task_sleep
  37:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** 
 151              		.loc 1 37 9 discriminator 1
 152 0018 F4E7     		b	.L8
 153              	.L10:
 154 001a 00BF     		.align	2
 155              	.L9:
 156 001c 00000000 		.word	user_task2_id
 157 0020 38000000 		.word	.LC2
 158              		.cfi_endproc
 159              	.LFE4:
 161              		.section	.rodata
 162              		.align	2
 163              	.LC3:
 164 0054 75736572 		.ascii	"user_task1\000"
 164      5F746173 
 164      6B3100
 165 005f 00       		.align	2
 166              	.LC4:
 167 0060 75736572 		.ascii	"user_task2\000"
 167      5F746173 
 167      6B3200
 168              		.section	.text.standard_app_demo_main,"ax",%progbits
 169              		.align	1
 170              		.global	standard_app_demo_main
 171              		.syntax unified
 172              		.thumb
 173              		.thumb_func
 174              		.fpu fpv4-sp-d16
 176              	standard_app_demo_main:
 177              	.LFB5:
  41:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c ****     }
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cchK7fL1.s 			page 5


  42:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c ****     return 0;
  43:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** }
  44:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** 
  45:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** /* 标准demo启动函数，函数名不要修改，否则会影响下一步实验 */
  46:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** int standard_app_demo_main()
  47:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** {
 178              		.loc 1 47 1
 179              		.cfi_startproc
 180              		@ args = 0, pretend = 0, frame = 0
 181              		@ frame_needed = 1, uses_anonymous_args = 0
 182 0000 80B5     		push	{r7, lr}
 183              	.LCFI7:
 184              		.cfi_def_cfa_offset 8
 185              		.cfi_offset 7, -8
 186              		.cfi_offset 14, -4
 187 0002 82B0     		sub	sp, sp, #8
 188              	.LCFI8:
 189              		.cfi_def_cfa_offset 16
 190 0004 02AF     		add	r7, sp, #8
 191              	.LCFI9:
 192              		.cfi_def_cfa 7, 8
  48:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c ****     /* 创建任务task1 */
  49:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c ****     user_task1_id = osal_task_create("user_task1",user_task1_entry,NULL,0x400,NULL,USER_TASK1_PRI);
 193              		.loc 1 49 21
 194 0006 0C23     		movs	r3, #12
 195 0008 0193     		str	r3, [sp, #4]
 196 000a 0023     		movs	r3, #0
 197 000c 0093     		str	r3, [sp]
 198 000e 4FF48063 		mov	r3, #1024
 199 0012 0022     		movs	r2, #0
 200 0014 0D49     		ldr	r1, .L13
 201 0016 0E48     		ldr	r0, .L13+4
 202 0018 FFF7FEFF 		bl	osal_task_create
 203 001c 0346     		mov	r3, r0
 204              		.loc 1 49 19
 205 001e 1A46     		mov	r2, r3
 206 0020 0C4B     		ldr	r3, .L13+8
 207 0022 1A60     		str	r2, [r3]
  50:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** 
  51:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c ****     /* 创建任务task2 */
  52:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c ****     user_task2_id = osal_task_create("user_task2",user_task2_entry,NULL,0x400,NULL,USER_TASK2_PRI);
 208              		.loc 1 52 21
 209 0024 0B23     		movs	r3, #11
 210 0026 0193     		str	r3, [sp, #4]
 211 0028 0023     		movs	r3, #0
 212 002a 0093     		str	r3, [sp]
 213 002c 4FF48063 		mov	r3, #1024
 214 0030 0022     		movs	r2, #0
 215 0032 0949     		ldr	r1, .L13+12
 216 0034 0948     		ldr	r0, .L13+16
 217 0036 FFF7FEFF 		bl	osal_task_create
 218 003a 0346     		mov	r3, r0
 219              		.loc 1 52 19
 220 003c 1A46     		mov	r2, r3
 221 003e 084B     		ldr	r3, .L13+20
 222 0040 1A60     		str	r2, [r3]
  53:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** 
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cchK7fL1.s 			page 6


  54:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c ****     return 0;
 223              		.loc 1 54 12
 224 0042 0023     		movs	r3, #0
  55:d:/LiteOS_Lab/targets/STM32L431VCT6_Bossay/Demos/osal_kernel_demo\osal_task_demo.c **** }...
 225              		.loc 1 55 1
 226 0044 1846     		mov	r0, r3
 227 0046 BD46     		mov	sp, r7
 228              	.LCFI10:
 229              		.cfi_def_cfa_register 13
 230              		@ sp needed
 231 0048 80BD     		pop	{r7, pc}
 232              	.L14:
 233 004a 00BF     		.align	2
 234              	.L13:
 235 004c 00000000 		.word	user_task1_entry
 236 0050 54000000 		.word	.LC3
 237 0054 00000000 		.word	user_task1_id
 238 0058 00000000 		.word	user_task2_entry
 239 005c 60000000 		.word	.LC4
 240 0060 00000000 		.word	user_task2_id
 241              		.cfi_endproc
 242              	.LFE5:
 244              		.text
 245              	.Letext0:
 246              		.file 2 "c:\\users\\administrator\\.huawei-liteos-studio\\tools\\arm-none-eabi\\arm-none-eabi\\inc
 247              		.file 3 "c:\\users\\administrator\\.huawei-liteos-studio\\tools\\arm-none-eabi\\arm-none-eabi\\inc
 248              		.file 4 "c:\\users\\administrator\\.huawei-liteos-studio\\tools\\arm-none-eabi\\arm-none-eabi\\inc
 249              		.file 5 "c:\\users\\administrator\\.huawei-liteos-studio\\tools\\arm-none-eabi\\arm-none-eabi\\inc
 250              		.file 6 "c:\\users\\administrator\\.huawei-liteos-studio\\tools\\arm-none-eabi\\lib\\gcc\\arm-none
 251              		.file 7 "c:\\users\\administrator\\.huawei-liteos-studio\\tools\\arm-none-eabi\\arm-none-eabi\\inc
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cchK7fL1.s 			page 7


DEFINED SYMBOLS
                            *ABS*:00000000 osal_task_demo.c
C:\Users\ADMINI~1\AppData\Local\Temp\cchK7fL1.s:22     .bss.user_task1_id:00000000 user_task1_id
C:\Users\ADMINI~1\AppData\Local\Temp\cchK7fL1.s:19     .bss.user_task1_id:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\cchK7fL1.s:29     .bss.user_task2_id:00000000 user_task2_id
C:\Users\ADMINI~1\AppData\Local\Temp\cchK7fL1.s:26     .bss.user_task2_id:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\cchK7fL1.s:32     .rodata:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\cchK7fL1.s:39     .text.user_task1_entry:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\cchK7fL1.s:46     .text.user_task1_entry:00000000 user_task1_entry
C:\Users\ADMINI~1\AppData\Local\Temp\cchK7fL1.s:110    .text.user_task1_entry:00000044 $d
C:\Users\ADMINI~1\AppData\Local\Temp\cchK7fL1.s:121    .text.user_task2_entry:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\cchK7fL1.s:127    .text.user_task2_entry:00000000 user_task2_entry
C:\Users\ADMINI~1\AppData\Local\Temp\cchK7fL1.s:156    .text.user_task2_entry:0000001c $d
C:\Users\ADMINI~1\AppData\Local\Temp\cchK7fL1.s:169    .text.standard_app_demo_main:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\cchK7fL1.s:176    .text.standard_app_demo_main:00000000 standard_app_demo_main
C:\Users\ADMINI~1\AppData\Local\Temp\cchK7fL1.s:235    .text.standard_app_demo_main:0000004c $d

UNDEFINED SYMBOLS
printf
osal_task_sleep
puts
osal_task_create
